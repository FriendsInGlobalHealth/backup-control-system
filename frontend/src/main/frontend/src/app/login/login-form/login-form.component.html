<!--
 Copyright (C) 2014-2018, Friends in Global Health, LLC
 All rights reserved.
 @author Damasceno Lopes
-->

<div class="section"></div>
<div class="section"></div>
<div class="section"></div>
<div class="valign-wrapper row login-box">
  <div class="col card hoverable s10 pull-s1 m6 pull-m3 l4 pull-l4">
    <form [formGroup]="form" (ngSubmit)="login()">
      <div class="card-content">
        <span class="card-title">SCB - Login</span>
        <div class="row">
          <div class="input-field col s12">
            <i class="material-icons prefix">perm_identity</i>
            <input type="text" class="validate" [(ngModel)]="localUser.username" id="username" formControlName="username" />
            <label for="username">Username *</label>
          </div>
          <div class="input-field col s12">
            <i class="material-icons prefix">vpn_key</i>
            <input type="password" class="validate" [(ngModel)]="localUser.password" name="password" id="password" formControlName="password"
            />
            <label for="password">Password *</label>
          </div>
          <div class="{{loginFail}} right-align">
            <span style="color:red;">CredÃªnciais invalidas!</span>
          </div>
          <div class="{{loginAccess}} right-align">
            <span style="color:red;">Acesso Restrito!</span>
          </div>
        </div>
      </div>
      <div class="card-action right-align">

          <div class="col s6 right-align">

          <div class="preloader-wrapper small active" *ngIf="isDisabled">
              <div class="spinner-layer spinner-green-only">
                <div class="circle-clipper left">
                  <div class="circle"></div>
                </div>
                <div class="gap-patch">
                  <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                  <div class="circle"></div>
                </div>
              </div>
            </div>

          </div>

          <div class="col s6 right-align">

        <button class="btn waves-effect waves-light" type="submit" [disabled]="isDisabled">
          Entrar
        </button>
      </div>
      
      <div class="section"></div>
      </div>
    </form>
  </div>
 
</div>