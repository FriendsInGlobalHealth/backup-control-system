<!--
 Copyright (C) 2014-2018, Friends in Global Health, LLC
 All rights reserved.
 @author Damasceno Lopes
-->

<br>
<h5 class="light">{{ "districtsfound" | translate }}
</h5>

<form materialize [formGroup]="form1">
  <div class="row">
    <div class="input-field col s12 m2 l2">
      <input id="name" type="text" placeholder="{{ 'searchbyname' | translate }}" class="validate" [formControl]="nameValueControl">
      <label for="name">
        {{ 'searchbyname' | translate }}
      </label>
    </div>
    <br />
    <div class="col s12 m2 l2">
      <input type="checkbox" class="filled-in" id="canceled_d" formControlName="canceled" (change)="search()" />
      <label for="canceled_d">{{ "canceled" | translate }}</label>
    </div>
    <div class="col s12 m8 l8" style="margin-top: -35px;">
      <ul class="pagination valign-center" *ngIf="isHidden=='hide'">

        <span class="page-size">{{ 'itenspage' | translate }}:</span> &nbsp;&nbsp;
        <mz-select-container style="width: 50px;">
          <select mz-select id="pageSize" [(ngModel)]="pageSize" [ngModelOptions]="{standalone: true}" (change)="searchSize()">
            <option value="15" selected>15</option>
            <option value="50">50</option>
            <option value="100">100</option>
          </select>
        </mz-select-container>


        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="page-size">{{range}} {{ "of" | translate }} {{total}}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <li *ngIf="first=='disabled'" class="disabled"><i class="material-icons icon-grey">chevron_left</i></li>
        <li *ngIf="first==''" class="waves-effect"><a (click)="getPage(previous)"><i class="material-icons">chevron_left</i></a></li>
        <li *ngIf="last=='disabled'" class="disabled"><i class="material-icons icon-grey">chevron_right</i></li>
        <li *ngIf="last==''" class="waves-effect"><a (click)="getPage(next)"><i class="material-icons">chevron_right</i></a></li>

      </ul>
    </div>
  </div>
</form>

<div class="col s12 " style="margin-top: -35px;">
  <div class="progress {{isHidden}}">
    <div class="indeterminate"></div>
  </div>
  <div class="progress {{isHiddenConnection}}">
    <div class="indeterminate"></div>
  </div>
  <table class="card bordered responsive-table highlight" *ngIf="isHidden=='hide'">
    <thead>
      <tr>
        <th>{{ "district" | translate }}</th>
        <th>{{ "lastbackupreceived" | translate }}</th>
        <th>{{ "lastbackuprestored" | translate }}</th>
        <th>{{ "lastsync" | translate }}</th>
        <th>{{ "districtsironkeys" | translate }}</th>
        <th>{{ "openmrsconnection" | translate }}</th>
        <th>{{ "updatedon" | translate }}</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr style="line-height: 15px;" *ngFor="let district of districts">
        <td>{{ district.fullName }}</td>
        <td>
          <a (click)="setSend(district.send_uid_rec)" (click)="basicModal4.openModal()" class="waves-effect waves-teal ">
            <span class="orange-text text-darken-3">
              {{ district.last_backup_received }}
            </span>
          </a>
        </td>
        <td>
          <a (click)="setSend(district.send_uid_res)" (click)="basicModal4.openModal()" class="waves-effect waves-teal ">
            <span class="orange-text text-darken-3">
              {{ district.last_backup_restored }}
            </span>
          </a>
        </td>
        <td>
          <a (click)="setSync(district.sync_uid)" (click)="basicModalSync.openModal()" class="waves-effect waves-teal ">
            <span class="orange-text text-darken-3">
              {{ district.server }}</span>
          </a><br><span *ngIf="district.server" style="font-size: 13px;color:rgb(121, 120, 120);">{{
            district.start_time }}-{{ district.end_time }}</span></td>
        <td>{{ district.ironkeys.length }}</td>

        <td *ngIf="getOpenMRSConnection(district.uid)=='true'">
          <i class="material-icons waves-effect left" style="color:green;">check_box</i>
        </td>

        <td *ngIf="getOpenMRSConnection(district.uid)=='false'">
          <i class="material-icons waves-effect left" style="color: red;">check_box_outline_blank</i>
        </td>

        <td *ngIf="!(getOpenMRSConnection(district.uid)=='false'||getOpenMRSConnection(district.uid)=='true')">
        </td>

        <td>{{ district.dateUpdated | date: 'dd/MM/yyyy' }}</td>
        <td>

          <a mz-tooltip tooltip="{{ 'details' | translate}}" [position]="'top'" [html]="false" [delay]="100" (click)="setDistrict(district.uid)"
          (click)="basicModal2.openModal()" [routerLink]="">
          <i class="material-icons icon-green">info</i>
        </a>
        &nbsp;
        <a *ngIf="getOpenMRSConnection(district.uid)=='true'" mz-tooltip tooltip="{{ 'dqa' | translate}}" [position]="'top'"
          [html]="false" [delay]="100" (click)="setDistrict(district.uid)" (click)="clean()" (click)="basicModal3.openModal()"
          (click)="getEvaluations()" [routerLink]="">
          <i class="material-icons icon-green">assessment</i>
        </a>

        <a *ngIf="getOpenMRSConnection(district.uid)!='true'" mz-tooltip tooltip="{{ 'dqa' | translate}}"
          [position]="'top'" [html]="false" [delay]="100" [routerLink]="">
          <i style="color:#CCC;" class="material-icons icon-green">assessment</i>
        </a>
        &nbsp;
        <a mz-tooltip tooltip="{{ 'edit' | translate}}" [position]="'top'" [html]="false" [delay]="100" [routerLink]="['/districts', district.uid]"
          *ngIf="ROLE_SIS">
          <i class="material-icons icon-orange">mode_edit</i>
        </a>
        &nbsp;
        <a mz-tooltip tooltip="{{ 'delete' | translate}}" [position]="'top'" [html]="false" [delay]="100" (click)="setDistrict(district.uid)"
          (click)="basicModal.openModal()" routerLink="/districts" *ngIf="ROLE_SIS">
          <i class="material-icons icon-red">delete</i>
        </a>

        </td>
      </tr>
    </tbody>
  </table>
</div>

<ul class="pagination valign-center" *ngIf="isHidden=='hide'">

  <span class="page-size">{{ 'itenspage' | translate }}:</span> &nbsp;&nbsp;
  <mz-select-container style="width: 50px;">
    <select mz-select id="pageSize" [(ngModel)]="pageSize" (change)="searchSize()">
      <option value="15" selected>15</option>
      <option value="50">50</option>
      <option value="100">100</option>
    </select>
  </mz-select-container>


  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="page-size">{{range}} {{ "of" | translate }} {{total}}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <li *ngIf="first=='disabled'" class="disabled"><i class="material-icons icon-grey">chevron_left</i></li>
  <li *ngIf="first==''" class="waves-effect"><a (click)="getPage(previous)"><i class="material-icons">chevron_left</i></a></li>
  <li *ngIf="last=='disabled'" class="disabled"><i class="material-icons icon-grey">chevron_right</i></li>
  <li *ngIf="last==''" class="waves-effect"><a (click)="getPage(next)"><i class="material-icons">chevron_right</i></a></li>

</ul>

<ul class="pagination" *ngIf="isHidden==''">
  {{ "loading" | translate }}
</ul>

<span class="pagination valign-center">{{counter}}</span>

<mz-modal #basicModal>
  <mz-modal-header>
    <i mz-icon [align]="'left'" [icon]="'warning'" [size]="'small'">
    </i>
    <h4>{{ "confirm" | translate }}</h4>
  </mz-modal-header>
  <mz-modal-content>
    {{ "districtdelete" | translate }}: {{district.fullName}} ? {{ "confirmdelete" | translate }}
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" (click)="deleteDistrict()" mz-modal-close>{{ "yes" | translate }}</button>
    <button mz-button [flat]="true" mz-modal-close>{{ "no" | translate }}</button>
  </mz-modal-footer>
</mz-modal>



<mz-modal #basicModal2 [fixedFooter]="true">
  <mz-modal-header>
    <h4>{{ "districtdetails" | translate }}</h4>
  </mz-modal-header>
  <mz-modal-content>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12">
        <h5 class="light">{{district.province}} / {{district.fullName}}</h5>
      </div>

    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="district.last_backup_received">
      <div class="col s12 l2 m2">{{ "lastbackupreceived" | translate }}:</div>
      <div class="col s12 l10 m10">{{district.last_backup_received}}</div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="district.last_backup_restored">
      <div class="col s12 l2 m2">{{ "lastbackuprestored" | translate }}:</div>
      <div class="col s12 l10 m10">{{district.last_backup_restored}}</div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="district.server">
      <div class="col s12 l2 m2">{{ "lastsync" | translate }}:</div>
      <div class="col s12 l10 m10">
        {{ district.server }}
        <br><span style="font-size: 13px;color:rgb(121, 120, 120);">{{
          district.start_time }}-{{ district.end_time }}</span>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="district.ironkeys.length>0">
      <div class="col s12 l2 m2">{{ "districtsironkeys" | translate }} ({{district.ironkeys.length}}):</div>
      <div class="col s12 l10 m10">
        <table class="bordered responsive-table highlight">
          <thead>
            <tr>
              <th>{{ "serialn" | translate }}</th>
              <th>{{ "capacity" | translate }} (GB)</th>
              <th>{{ "state" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ironkey of district.ironkeys">
              <td>
                <a (click)="basicModal2.closeModal()" [routerLink]="['/ironkeys', ironkey.uid]" class="waves-effect waves-teal">
                  <span class="orange-text text-darken-3">{{ ironkey.serial }}</span>
                </a>
              </td>
              <td>{{ ironkey.size }}</td>
              <td>{{ ironkey.status }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "createdby" | translate }}:</div>
      <div class="col s12 l10 m10">{{district.createdBy.personName}} - {{ district.dateCreated | date:'dd/MM/yyyy HH:mm' }}</div>
    </div>
    <div class="row" *ngIf="district.updatedBy!=null" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "updatedby" | translate }}:</div>
      <div class="col s12 l10 m10">{{district.updatedBy.personName}} - {{ district.dateUpdated | date:'dd/MM/yyyy HH:mm' }}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <span style="color:lightgrey;">{{district.uid}}</span>
      </div>
    </div>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>{{ "close" | translate }}</button>
  </mz-modal-footer>
</mz-modal>

<mz-modal #basicModal3 [fixedFooter]="true" [fullscreen]="true">
  <mz-modal-header>
    <h4>{{ "districtdqa" | translate }}
    </h4>
  </mz-modal-header>
  <mz-modal-content>
    <div class="row">
      <div class="col s12">
        <h5 class="light">{{district.province}} / {{district.fullName}}</h5>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="district.last_backup_restored">
      <div class="col s12 l12 m12">{{ "lastbackuprestoreddate" | translate }}: {{district.last_backup_restored}}</div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="!district.last_backup_restored">
      <div class="col s12 l12 m12">{{ "lastbackuprestoredask" | translate }}</div>
    </div>

    <div class="row">
      <div class="col s11 l11 m11" *ngIf="district.last_backup_restored">
        <mz-select-container>
          <select mz-select label="{{ 'dqa' | translate }}" [disabled]="isDisabled" (change)="evaluate()"
            [(ngModel)]="evaluation" placeholder="{{ 'select' | translate }}" [disabled]="disabled1">
            <option *ngFor="let evaluation of evaluations" [ngValue]="evaluation">{{ evaluation.name }}</option>
          </select>
        </mz-select-container>
      </div>
      <br>
      <div class="col s1 l1 m1" *ngIf="disabled1==true||isHidden2==''">
        <div class="preloader-wrapper small active">
          <div class="spinner-layer spinner-red-only">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div>
            <div class="gap-patch">
              <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12" *ngIf="showResult">
        {{resultEvaluation.length}} {{ "recordsfound" | translate }}
        <br />
        <div class="card">
          <table class="bordered">
            <thead>
              <tr>
                <th *ngFor=" let key of keys">
                  {{key}}
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor=" let res of resultEvaluation | paginate: { itemsPerPage: 10, currentPage: p2, id: 'd' }">
                <td *ngFor=" let key of keys">
                  {{res[key]}}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <pagination-controls autoHide=true previousLabel="" nextLabel="" (pageChange)="p2 = $event" id="d" class="pagination right-align"></pagination-controls>
      </div>
    </div>
    <div class="fixed-action-btn" style="bottom: 107px; right: 53px;">
      <a class="btn-floating tooltipped btn-small waves-effect waves-light orange {{isDisabledt2}}" data-position="left"
        data-tooltip="Baixar a lista" (click)="download()">
        <i class="material-icons">file_download</i>
      </a>
    </div>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>{{ "close" | translate }}</button>
  </mz-modal-footer>
</mz-modal>

<mz-modal #basicModal4 [fixedFooter]="true">
  <mz-modal-header>
    <h4>{{ "backupdetails" | translate }}</h4>
    <div class="progress {{isHidden2m}}">
      <div class="indeterminate"></div>
    </div>
  </mz-modal-header>
  <mz-modal-content *ngIf="isHidden2m=='hide'">
    <div class="row" style="margin-top: -11px;">
      <div class="col s12">
        <h5 class="light">{{send.district.fullName}}</h5>
      </div>
    </div>

<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2">{{ "backup_date" | translate }}:</div>
  <div class="col s12 l10 m10">{{send.backupDate | date: 'dd/MM/yyyy'}}</div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2">{{ "transporter" | translate }}:</div>
  <div class="col s12 l10 m10">{{send.transporter.name}} - {{send.transporter.phoneNumber}}</div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2"></div>
  <div class="col s12 l10 m10">
    <input type="checkbox" id="update_finished" checked="{{send.updateFinished==true?'checked':''}}" onclick="return false;"
    />
    <label for="update_finished">{{ "at" | translate }}</label>
  </div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2"></div>
  <div class="col s12 l10 m10">
    <input type="checkbox" id="sync_finished" checked="{{send.syncFinished==true?'checked':''}}" onclick="return false;" />
    <label for="sync_finished">{{ "st" | translate }}</label>
  </div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2"></div>
  <div class="col s12 l10 m10">
    <input type="checkbox" id="cross_dhis2_finished" checked="{{send.crossDhis2Finished==true?'checked':''}}" onclick="return false;"
    />
    <label for="cross_dhis2_finished">{{ "dhis2" | translate }}</label>
  </div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2"></div>
  <div class="col s12 l10 m10">
    <input type="checkbox" id="cross_idart_finished" checked="{{send.crossIdartFinished==true?'checked':''}}" onclick="return false;"
    />
    <label for="cross_idart_finished">{{ "idart" | translate }}</label>
  </div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2"></div>
  <div class="col s12 l10 m10">
    <input type="checkbox" id="validation_finished" checked="{{send.validationFinished==true?'checked':''}}" onclick="return false;"
    />
    <label for="validation_finished">{{ "vt" | translate }}</label>
  </div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2"></div>
  <div class="col s12 l3 m3">
    <input type="checkbox" id="idart_backup" checked="{{send.idartBackup==true?'checked':''}}" onclick="return false;" />
    <label for="idart_backup">{{ "include_idart_backup" | translate }}</label>
  </div>
  <div class="col s12 l7 m7" *ngIf="send.idartBackup">{{send.idartBackupDate | date: 'dd/MM/yyyy'}}</div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2">{{ "obs_district" | translate }}:</div>
  <div class="col s12 l10 m10">{{send.observation}}</div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2"></div>
  <div class="col s12 l3 m3">
    <input type="checkbox" id="received" checked="{{send.received==true?'checked':''}}" onclick="return false;" />
    <label for="received">{{ "hisreceived" | translate }}</label>
  </div>
  <div class="col s12 l7 m7" *ngIf="send.received">{{send.receivername}} - {{send.receivedate | date: 'dd/MM/yyyy'}}</div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2"></div>
  <div class="col s12 l3 m3">
    <input type="checkbox" id="ik_returned" checked="{{send.ik_returned==true?'checked':''}}" onclick="return false;" />
    <label for="ik_returned">{{ "ikreturned" | translate }}</label>
  </div>
  <div class="col s12 l3 m3" *ngIf="send.ik_returned">{{send.ik_returnedto}} - {{send.ik_returneddate | date: 'dd/MM/yyyy'}}</div>
  <div class="col s12 l3 m3">
    <input type="checkbox" id="ik_receivedd" checked="{{send.ik_received==true?'checked':''}}" onclick="return false;" />
    <label for="ik_receivedd">{{ "ik_received" | translate }}</label>
  </div>
</div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2"></div>
  <div class="col s12 l3 m3">
    <input type="checkbox" id="restored" checked="{{send.restored==true?'checked':''}}" onclick="return false;" />
    <label for="restored">{{ "backuprestored" | translate }}</label>
  </div>
  <div class="col s12 l7 m7" *ngIf="send.restored" >{{send.restorername}} - {{send.date_restored | date: 'dd/MM/yyyy'}}</div>
</div>
<div class="row" style="margin-top: -11px;" *ngIf="send.sis_observation!=null">
  <div class="col s12 l2 m2">{{ "obs_his" | translate }}:</div>
  <div class="col s12 l10 m10">{{send.sis_observation}}</div>
</div>
<div class="row" style="margin-top: -11px;">
    <div class="col s12 l2 m2">{{ "createdby" | translate }}:</div>
    <div class="col s12 l10 m10">{{send.createdBy.personName}} - {{ send.dateCreated | date:'dd/MM/yyyy HH:mm' }}</div>
  </div>
  <div class="row" *ngIf="send.updatedBy!=null" style="margin-top: -11px;">
    <div class="col s12 l2 m2">{{ "updatedby" | translate }}:</div>
    <div class="col s12 l10 m10">{{send.updatedBy.personName}} - {{ send.dateUpdated | date:'dd/MM/yyyy HH:mm' }}</div>
  </div>
<div class="row" style="margin-top: -11px;">
  <div class="col s12 l2 m2"></div>
  <div class="col s12 l10 m10">
    <span style="color:lightgrey;">{{send.uid}}</span>
  </div>
</div>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>{{ "close" | translate }}</button>
  </mz-modal-footer>
</mz-modal>


<mz-modal #basicModalSync [fixedFooter]="true">
  <mz-modal-header>
    <h4>{{ "syncdetails" | translate }}</h4>
    <div class="progress {{isHidden2m}}">
      <div class="indeterminate"></div>
    </div>
  </mz-modal-header>
  <mz-modal-content *ngIf="isHidden2m=='hide'">
    <div class="row" style="margin-top: -11px;">
      <div class="col s12">
        <h5 class="light">{{sync.server.name}}</h5>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "district" | translate }}:</div>
      <div class="col s12 l10 m10">{{sync.district.name}}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "sync_time" | translate }}:</div>
      <div class="col s12 l10 m10">{{getSyncTimeline(sync.startTime,sync.endTime)}}</div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "duration" | translate }}:</div>
      <div class="col s12 l10 m10" *ngIf="getSyncStatus(sync.startTime,sync.endTime)=='progress'&&getSyncExpires(sync.startTime)==false"><span style="float: left;text-align: center; margin-left: 0px;" class='new badge orange' data-badge-caption="EM PROGRESSO"></span></div>
      <div class="col s12 l10 m10" *ngIf="getSyncStatus(sync.startTime,sync.endTime)=='progress'&&getSyncExpires(sync.startTime)==true"><span *ngIf="sync.endItemsToSend==0&&sync.endItemsToReceive==0" class='red-text text-darken-3"'>{{'not_concluded' | translate}}</span></div>
      <div class="col s12 l10 m10" *ngIf="getSyncStatus(sync.startTime,sync.endTime)=='complete'">{{getSyncDuration(sync.startTime,sync.endTime)}}</div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "items_onstart" | translate }}:</div>
      <div class="col s12 l10 m10">{{ sync.startItemsToSend }} {{ "items_send" | translate }}
        <br>{{ sync.startItemsToReceive }} {{ "items_receive" | translate }}</div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="sync.endTime!=null">
      <div class="col s12 l2 m2">{{ "items_onend" | translate }}:</div>
      <div class="col s12 l10 m10">{{ sync.endItemsToSend }} {{ "items_send" | translate }}
        <br>{{ sync.endItemsToReceive }} {{ "items_receive" | translate }}</div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="update_finished" checked="{{sync.syncError==true?'checked':''}}" onclick="return false;" />
        <label for="update_finished">{{ "sync_error_desc" | translate }}</label>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="serverfault" checked="{{sync.serverFault==true?'checked':''}}" onclick="return false;" />
        <label for="serverfault">{{ "serverfault" | translate }}</label>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="laptopfault" checked="{{sync.laptopFault==true?'checked':''}}" onclick="return false;" />
        <label for="laptopfault">{{ "laptopfault" | translate }}</label>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="powercut" checked="{{sync.powerCut==true?'checked':''}}" onclick="return false;" />
        <label for="powercut">{{ "powercut" | translate }}</label>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="sync.observation!=null">
      <div class="col s12 l2 m2">{{ "obs_district" | translate }}:</div>
      <div class="col s12 l10 m10">{{sync.observation}}</div>
    </div>
    <div class="row" style="margin-top: -11px;" *ngIf="sync.observationHis!=null">
      <div class="col s12 l2 m2">{{ "obs_his" | translate }}:</div>
      <div class="col s12 l10 m10">{{sync.observationHis}}</div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "createdby" | translate }}:</div>
      <div class="col s12 l10 m10">{{sync.createdBy.personName}} - {{ sync.dateCreated | date:'dd/MM/yyyy HH:mm' }}</div>
    </div>
    <div class="row" *ngIf="sync.updatedBy!=null" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "updatedby" | translate }}:</div>
      <div class="col s12 l10 m10">{{sync.updatedBy.personName}} - {{ sync.dateUpdated | date:'dd/MM/yyyy HH:mm' }}</div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <span style="color:lightgrey;">{{sync.uid}}</span>
      </div>
    </div>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>{{ "close" | translate }}</button>
  </mz-modal-footer>
</mz-modal>

<div class="fixed-action-btn" style="bottom: 20px; right: 20px;">
  <a class="btn-floating  btn-large green">
    <i class="material-icons">menu</i>
  </a>
  <ul>
    <li *ngIf="ROLE_SIS">
        <a mz-tooltip [tooltip]="'Baixar completude das bases de dados'" [position]="'left'" [html]="false" [delay]="100" (click)="dataCompleteness()"
          class="btn-floating  waves-effect waves-light  orange {{isDisabledt}}">
          <i class="material-icons">file_download</i>
        </a>
      </li>
      <li>
          <a mz-tooltip [tooltip]="'&Uacute;ltima verificação de conexão com OpenMRS: <span class=\'yellow-text\'>'+getLastCheck()+'</span>'"
            [position]="'left'" [html]="true" [delay]="100" (click)="checkConnection()" class="btn-floating  waves-effect waves-light  blue {{isDisabledt}}">
            <i class="material-icons">sync</i>
          </a>
        </li>
    <li>
      <a mz-tooltip tooltip="{{ 'downloadlist' | translate}}" [position]="'left'" [html]="false" [delay]="100" (click)="printList()"
        class="btn-floating  waves-effect waves-light  orange {{isDisabledt}}">
        <i class="material-icons">file_download</i>
      </a>
    </li>
    <li *ngIf="ROLE_SIS">
      <a mz-tooltip tooltip="{{ 'add' | translate}}" [position]="'left'" [html]="false" [delay]="100" routerLink="/districts/new"
        class="btn-floating  waves-effect waves-light  blue">
        <i class="material-icons">add</i>
      </a>
    </li>
  </ul>
</div>
