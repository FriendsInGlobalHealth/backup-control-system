<!--
 Copyright (C) 2014-2018, Friends in Global Health, LLC
 All rights reserved.
 @author Damasceno Lopes <damascenolopess@gmail.com>
-->

<br>
<h5 class="light">{{ total }} {{ "districtsfound" | translate }}</h5>

<form materialize [formGroup]="form1">
  <div class="row">
    <div class="input-field col s12 m4 l4">
      <input id="name" type="text" class="validate" formControlName="name" (keyup)="search1()">
      <label for="name">
        {{ 'searchbyname' | translate }}
      </label>
    </div>
    <br />
    <div class="col s12 m4 l4">
      <input type="checkbox" class="filled-in" id="canceled_d" formControlName="canceled" (change)="search1()" />
      <label for="canceled_d">{{ "canceled" | translate }}</label>
    </div>
  </div>
</form>

<div class="col s12 card">
  <div class="progress {{isHidden}}">
    <div class="indeterminate"></div>
  </div>
  <div class="progress {{isHiddenConnection}}">
    <div class="indeterminate red"></div>
  </div>
  <table class="bordered responsive-table highlight">
    <thead>
      <tr>
        <th>{{ "district" | translate }}</th>
        <th>{{ "lastbackupreceived" | translate }}</th>
        <th>{{ "lastbackuprestored" | translate }}</th>
        <th>{{ "lastsync" | translate }}</th>
        <th>{{ "districtsironkeys" | translate }}</th>
        <th>{{ "openmrsconnection" | translate }}</th>
        <th>{{ "updatedon" | translate }}</th>
        <th>{{ "actions" | translate }}</th>
      </tr>
    </thead>
    <tbody>
      <tr style="line-height: 15px;" *ngFor="let district of districts | paginate: { id: 'server', itemsPerPage: 10, currentPage: p, totalItems: total }">
        <td>{{ district.namef }}</td>
        <td>
          <a (click)="setSend(district.send_uuid_rec)" (click)="basicModal4.open()" class="waves-effect waves-teal ">
            <span class="orange-text text-darken-3">
              {{ district.last_backup_received }}
            </span>
          </a>
        </td>
        <td>
          <a (click)="setSend(district.send_uuid_res)" (click)="basicModal4.open()" class="waves-effect waves-teal ">
            <span class="orange-text text-darken-3">
              {{ district.last_backup_restored }}
            </span>
          </a>
        </td>
        <td>
          <a (click)="setSync(district.sync_uuid)" (click)="basicModalSync.open()" class="waves-effect waves-teal ">
            <span class="orange-text text-darken-3">
              {{ district.server }}</span>
          </a><br><span *ngIf="district.server" style="font-size: 13px;color:rgb(121, 120, 120);">{{
            district.start_time }}-{{ district.end_time }}</span></td>
        <td>{{ district.ironkeysnumber }}</td>

        <td *ngIf="getOpenMRSConnection(district.uuid)=='true'">
          <i class="material-icons waves-effect left" style="color:green;">check_box</i>
        </td>

        <td *ngIf="getOpenMRSConnection(district.uuid)=='false'">
          <i class="material-icons waves-effect left" style="color: red;">check_box_outline_blank</i>
        </td>

        <td *ngIf="!(getOpenMRSConnection(district.uuid)=='false'||getOpenMRSConnection(district.uuid)=='true')">
        </td>


        <td>{{ district.date_updated | date: 'dd/MM/yyyy' }}</td>
        <td>
          <a mz-tooltip [tooltip]="'Detalhes'" [position]="'top'" [html]="false" [delay]="100" (click)="setDistrict(district.uuid)"
            (click)="basicModal2.open()" [routerLink]="">
            <i class="material-icons icon-green">info</i>
          </a>
          &nbsp;
          <a *ngIf="getOpenMRSConnection(district.uuid)=='true'" mz-tooltip [tooltip]="'AQD OpenMRS'" [position]="'top'"
            [html]="false" [delay]="100" (click)="setDistrict(district.uuid)" (click)="clean()" (click)="basicModal3.open()"
            (click)="getEvaluations()" [routerLink]="">
            <i class="material-icons icon-green">assessment</i>
          </a>

          <a *ngIf="getOpenMRSConnection(district.uuid)!='true'" mz-tooltip [tooltip]="'Verifique a conexão com OpenMRS!'"
            [position]="'top'" [html]="false" [delay]="100" [routerLink]="">
            <i style="color:#CCC;" class="material-icons icon-green">assessment</i>
          </a>
          &nbsp;
          <a mz-tooltip [tooltip]="'Editar'" [position]="'top'" [html]="false" [delay]="100" [routerLink]="['/district', district.uuid]"
            *ngIf="ROLE_SIS">
            <i class="material-icons icon-orange">mode_edit</i>
          </a>
          &nbsp;
          <a mz-tooltip [tooltip]="'Excluir'" [position]="'top'" [html]="false" [delay]="100" (click)="setDistrict(district.uuid)"
            (click)="basicModal.open()" routerLink="/districts" *ngIf="ROLE_SIS">
            <i class="material-icons icon-red">delete</i>
          </a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<pagination-controls autoHide="true" previousLabel="" nextLabel="" (pageChange)="getPage($event)" id="server" class="right-align"></pagination-controls>


<mz-modal #basicModal>
  <mz-modal-header>
    <i mz-icon [align]="'left'" [icon]="'warning'" [size]="'small'">
    </i>
    <h4>{{ "confirm" | translate }}</h4>
  </mz-modal-header>
  <mz-modal-content>
    {{ "districtdelete" | translate }}: {{district.namef}} ? {{ "confirmdelete" | translate }}
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" (click)="deleteDistrict()" mz-modal-close>{{ "yes" | translate }}</button>
    <button mz-button [flat]="true" mz-modal-close>{{ "no" | translate }}</button>
  </mz-modal-footer>
</mz-modal>



<mz-modal #basicModal2 [fixedFooter]="true">
  <mz-modal-header>
    <h4>{{ "districtdetails" | translate }}</h4>
  </mz-modal-header>
  <mz-modal-content>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12">
        <h5 class="light">{{district.province}} / {{district.namef}}</h5>
      </div>

    </div>
    <div class="row" style="margin-top: -11px;" *ngIf="district.ironkeysnumber">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">{{ "districtsironkeys" | translate }}({{district.ironkeysnumber}}):
        <table class="bordered responsive-table highlight">
          <thead>
            <tr>
              <th>{{ "serialn" | translate }}</th>
              <th>{{ "capacity" | translate }}</th>
              <th>{{ "state" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ironkey of district.ironkeysDistrict">
              <td>
                <a (click)="basicModal2.close()" [routerLink]="['/ironkey', ironkey.uuid]" class="waves-effect waves-teal">
                  <span class="orange-text text-darken-3">{{ ironkey.serial }}</span>
                </a>
              </td>
              <td>{{ ironkey.size }} GB</td>
              <td>{{ ironkey.status }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "createdby" | translate }}:</div>
      <div class="col s12 l10 m10">{{district.created_by.person.others_names}} {{district.created_by.person.surname}} -
        {{district.date_created | date:'dd/MM/yyyy HH:mm'}}</div>
    </div>
    <div class="row" *ngIf="district.updated_by!=null" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "updatedby" | translate }}:</div>
      <div class="col s12 l10 m10">{{district.updated_by.person.others_names}} {{district.updated_by.person.surname}} -
        {{district.date_updated | date:'dd/MM/yyyy HH:mm'}}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <span style="color:lightgrey;">{{district.uuid}}</span>
      </div>
    </div>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>{{ "close" | translate }}</button>
  </mz-modal-footer>
</mz-modal>

<mz-modal #basicModal3 [fixedFooter]="true" [fullscreen]="true">
  <mz-modal-header>
    <h4>{{ "districtdqa" | translate }}
    </h4>
  </mz-modal-header>
  <mz-modal-content>
    <div class="row">
      <div class="col s12">
        <h5 class="light">{{district.province}} / {{district.namef}}</h5>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="district.last_backup_restored">
      <div class="col s12 l12 m12">{{ "lastbackuprestoreddate" | translate }}: {{district.last_backup_restored}}</div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="!district.last_backup_restored">
      <div class="col s12 l12 m12">{{ "lastbackuprestoredask" | translate }}</div>
    </div>

    <div class="row">
      <div class="col s11 l11 m11" *ngIf="district.last_backup_restored">
        <mz-select-container *ngIf="translate.currentLang=='pt'">
          <select mz-select [label]="'Avaliação da Qualidade de Dados'" [disabled]="isDisabled" (change)="evaluate()"
            [(ngModel)]="evaluation" [placeholder]="'Seleccione a Avaliação'" [disabled]="disabled1">
            <option *ngFor="let evaluation of evaluations" [ngValue]="evaluation">{{ evaluation.name }}</option>
          </select>
        </mz-select-container>
        <mz-select-container *ngIf="translate.currentLang=='en'">
          <select mz-select [label]="'Data Quality Evaluation'" [disabled]="isDisabled" (change)="evaluate()"
            [(ngModel)]="evaluation" [placeholder]="'Select the Evaluation'" [disabled]="disabled1">
            <option *ngFor="let evaluation of evaluations" [ngValue]="evaluation">{{ evaluation.name }}</option>
          </select>
        </mz-select-container>
      </div>
      <br>
      <div class="col s1 l1 m1" *ngIf="disabled1==true||isHidden2==''">
        <div class="preloader-wrapper small active">
          <div class="spinner-layer spinner-red-only">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div>
            <div class="gap-patch">
              <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12" *ngIf="showResult">
        {{resultEvaluation.length}} {{ "recordsfound" | translate }}
        <br />
          <div class="card">
          <table class="bordered">
            <thead>
              <tr>
                <th *ngFor=" let key of keys">
                  {{key}}
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor=" let res of resultEvaluation | paginate: { itemsPerPage: 10, currentPage: p2, id: 'd' }">
                <td *ngFor=" let key of keys">
                  {{res[key]}}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <pagination-controls autoHide=true previousLabel="" nextLabel="" (pageChange)="p2 = $event" id="d" class="pagination"></pagination-controls>
      </div>
    </div>
    <div class="fixed-action-btn" style="bottom: 107px; right: 53px;">
      <a class="btn-floating tooltipped btn-small waves-effect waves-light orange {{isDisabledt2}}" data-position="left"
        data-tooltip="Baixar a lista" (click)="download()">
        <i class="material-icons">file_download</i>
      </a>
    </div>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>{{ "close" | translate }}</button>
  </mz-modal-footer>
</mz-modal>

<mz-modal #basicModal4 [fixedFooter]="true">
  <mz-modal-header>
    <h4>{{ "backupdetails" | translate }}</h4>
    <div class="progress {{isHidden2m}}">
      <div class="indeterminate"></div>
    </div>
  </mz-modal-header>
  <mz-modal-content *ngIf="isHidden2m=='hide'">
    <div class="row" style="margin-top: -11px;">
      <div class="col s12">
        <h5 class="light">{{send.district.province}} / {{send.district.namef}}</h5>
      </div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "backup_date" | translate }}:</div>
      <div class="col s12 l10 m10">{{send.backup_date | date: 'dd/MM/yyyy'}}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "transporter" | translate }}:</div>
      <div class="col s12 l10 m10">{{send.transporter.name}} - {{send.transporter.phone_number}}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="update_finished" checked="{{send.update_finished==true?'checked':''}}" onclick="return false;" />
        <label for="update_finished">{{ "at" | translate }}</label>
      </div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="sync_finished" checked="{{send.sync_finished==true?'checked':''}}" onclick="return false;" />
        <label for="sync_finished">{{ "st" | translate }}</label>
      </div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="cross_dhis2_finished" checked="{{send.cross_dhis2_finished==true?'checked':''}}"
          onclick="return false;" />
        <label for="cross_dhis2_finished">{{ "dhis2" | translate }}</label>
      </div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="cross_idart_finished" checked="{{send.cross_idart_finished==true?'checked':''}}"
          onclick="return false;" />
        <label for="cross_idart_finished">{{ "idart" | translate }}</label>
      </div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="validation_finished" checked="{{send.validation_finished==true?'checked':''}}"
          onclick="return false;" />
        <label for="validation_finished">{{ "vt" | translate }}</label>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l3 m3">
        <input type="checkbox" id="idart_backup" checked="{{send.idart_backup==true?'checked':''}}" onclick="return false;" />
        <label for="idart_backup">{{ "include_idart_backup" | translate }}</label>
      </div>
      <div class="col s12 l7 m7" *ngIf="send.idart_backup">{{send.idart_backup_date | date: 'dd/MM/yyyy'}}</div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "obs_district" | translate }}:</div>
      <div class="col s12 l10 m10">{{send.observation}}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l3 m3">
        <input type="checkbox" id="received" checked="{{send.received==true?'checked':''}}" onclick="return false;" />
        <label for="received">{{ "hisreceived" | translate }}</label>
      </div>
      <div class="col s12 l7 m7" *ngIf="send.received">{{send.receivername}} - {{send.receivedate | date:
        'dd/MM/yyyy'}}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l3 m3">
        <input type="checkbox" id="ik_returned" checked="{{send.ik_returned==true?'checked':''}}" onclick="return false;" />
        <label for="ik_returned">{{ "ikreturned" | translate }}</label>
      </div>
      <div class="col s12 l3 m3" *ngIf="send.ik_returned">{{send.ik_returnedto}} - {{send.ik_returneddate | date:
        'dd/MM/yyyy'}}</div>
      <div class="col s12 l3 m3">
        <input type="checkbox" id="ik_receivedd" checked="{{send.ik_received==true?'checked':''}}" onclick="return false;" />
        <label for="ik_receivedd">{{ "ik_received" | translate }}</label>
      </div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l3 m3">
        <input type="checkbox" id="restored" checked="{{send.restored==true?'checked':''}}" onclick="return false;" />
        <label for="restored">{{ "backuprestored" | translate }}</label>
      </div>
      <div class="col s12 l7 m7" *ngIf="send.restored">{{send.restorername}} - {{send.date_restored | date:
        'dd/MM/yyyy'}}</div>
    </div>
    <div class="row" style="margin-top: -11px;" *ngIf="send.sis_observation!=null">
      <div class="col s12 l2 m2">{{ "obs_his" | translate }}:</div>
      <div class="col s12 l10 m10">{{send.sis_observation}}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "createdby" | translate }}:</div>
      <div class="col s12 l10 m10">{{send.created_by.person.others_names}} {{send.created_by.person.surname}} -
        {{send.date_created | date: 'dd/MM/yyyy HH:mm'}}
      </div>
    </div>

    <div class="row" *ngIf="send.updated_by!=null" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "updatedby" | translate }}:</div>
      <div class="col s12 l10 m10">{{send.updated_by.person.others_names}} {{send.updated_by.person.surname}} -
        {{send.date_updated | date: 'dd/MM/yyyy HH:mm'}}
      </div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <span style="color:lightgrey;">{{send.uuid}}</span>
      </div>
    </div>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>{{ "close" | translate }}</button>
  </mz-modal-footer>
</mz-modal>


<mz-modal #basicModalSync [fixedFooter]="true">
  <mz-modal-header>
    <h4>{{ "syncdetails" | translate }}</h4>
    <div class="progress {{isHidden2m}}">
      <div class="indeterminate"></div>
    </div>
  </mz-modal-header>
  <mz-modal-content *ngIf="isHidden2m=='hide'">
    <div class="row" style="margin-top: -11px;">
      <div class="col s12">
        <h5 class="light">{{sync.server.name}}</h5>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "district" | translate }}:</div>
      <div class="col s12 l10 m10">{{sync.server.district.name}}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "sync_time" | translate }}:</div>
      <div class="col s12 l10 m10" *ngIf="sync.state=='Complete'||sync.state=='Incomplete'">{{ sync.start_time | date:
        'dd/MM/yyyy HH:mm' }} - {{ sync.end_time | date: 'HH:mm' }}</div>
      <div class="col s12 l10 m10" *ngIf="sync.state=='Progress'">{{ sync.start_time | date: 'dd/MM/yyyy HH:mm' }}</div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "duration" | translate }}:</div>
      <div class="col s12 l10 m10" *ngIf="sync.state=='Progress'&&sync.editable==true"><span style="float: left;text-align: center; margin-left: 0px;"
          class='new badge orange' data-badge-caption="EM PROGRESSO"></span></div>
      <div class="col s12 l10 m10" *ngIf="sync.state=='Progress'&&sync.editable==false"><span style="float: left;text-align: center; margin-left: 0px;"
          class='new badge red' data-badge-caption="NÃO CONCLUIDA"></span></div>
      <div class="col s12 l10 m10" *ngIf="sync.state=='Complete'||sync.state=='Incomplete'">{{ sync.duration }}</div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "items_onstart" | translate }}:</div>
      <div class="col s12 l10 m10">{{ sync.start_items_to_send }} {{ "items_send" | translate }}
        <br>{{ sync.start_items_to_receive }} {{ "items_receive" | translate }}</div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="sync.end_time!=null">
      <div class="col s12 l2 m2">{{ "items_onend" | translate }}:</div>
      <div class="col s12 l10 m10">{{ sync.end_items_to_send }} {{ "items_send" | translate }}
        <br>{{ sync.end_items_to_receive }} {{ "items_receive" | translate }}</div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="update_finished" checked="{{sync.sync_error==true?'checked':''}}" onclick="return false;" />
        <label for="update_finished">{{ "sync_error_desc" | translate }}</label>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="serverfault" checked="{{sync.serverfault==true?'checked':''}}" onclick="return false;" />
        <label for="serverfault">{{ "serverfault" | translate }}</label>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="laptopfault" checked="{{sync.laptopfault==true?'checked':''}}" onclick="return false;" />
        <label for="laptopfault">{{ "laptopfault" | translate }}</label>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <input type="checkbox" id="powercut" checked="{{sync.powercut==true?'checked':''}}" onclick="return false;" />
        <label for="powercut">{{ "powercut" | translate }}</label>
      </div>
    </div>

    <div class="row" *ngIf="sync.state=='Complete'">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <span style="float: left;text-align: center;" class='new badge green' data-badge-caption="SYNCHRONIZED"></span>
      </div>
    </div>

    <div class="row" *ngIf="sync.state=='Incomplete'">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <span style="float: left;text-align: center;" class='new badge red' data-badge-caption="NOT SYNCHRONIZED"></span>
      </div>
    </div>

    <div class="row" style="margin-top: -11px;" *ngIf="sync.observation!=null">
      <div class="col s12 l2 m2">{{ "obs_district" | translate }}:</div>
      <div class="col s12 l10 m10">{{sync.observation}}</div>
    </div>
    <div class="row" style="margin-top: -11px;" *ngIf="sync.observation_his!=null">
      <div class="col s12 l2 m2">{{ "obs_his" | translate }}:</div>
      <div class="col s12 l10 m10">{{sync.observation_his}}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "createdby" | translate }}:</div>
      <div class="col s12 l10 m10">{{sync.created_by.person.others_names}} {{sync.created_by.person.surname}} -
        {{sync.date_created | date: 'dd/MM/yyyy HH:mm'}}</div>
    </div>

    <div class="row" *ngIf="sync.updated_by!=null" style="margin-top: -11px;">
      <div class="col s12 l2 m2">{{ "updatedby" | translate }}:</div>
      <div class="col s12 l10 m10">{{sync.updated_by.person.others_names}} {{sync.updated_by.person.surname}} -
        {{sync.date_updated | date: 'dd/MM/yyyy HH:mm'}}</div>
    </div>
    <div class="row" style="margin-top: -11px;">
      <div class="col s12 l2 m2"></div>
      <div class="col s12 l10 m10">
        <span style="color:lightgrey;">{{sync.uuid}}</span>
      </div>
    </div>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>{{ "close" | translate }}</button>
  </mz-modal-footer>
</mz-modal>

<div class="fixed-action-btn" style="bottom: 20px; right: 158px;">
  <a mz-tooltip [tooltip]="'&Uacute;ltima verificação de conexão com OpenMRS: <span class=\'yellow-text\'>'+getLastCheck()+'</span>'"
    [position]="'left'" [html]="true" [delay]="100" class="btn-floating  btn-large waves-effect waves-light blue pulse"
    (click)="checkConnection()">
    <i class="material-icons">sync</i>
  </a>
</div>

<div class="fixed-action-btn" style="bottom: 20px; right: 89px;">
  <a class="btn-floating btn-large orange">
    <i class="large material-icons">insert_chart</i>
  </a>
  <ul>
    <li>
      <a mz-tooltip [tooltip]="'Baixar Lista'" [position]="'left'" [html]="false" [delay]="100" (click)="printList()"
        class="btn-floating blue {{isDisabledt}}">
        <i class="material-icons">file_download</i>
      </a>
    </li>
  </ul>
</div>

<div class="fixed-action-btn" style="bottom: 20px; right: 20px;" *ngIf="ROLE_SIS">
  <a mz-tooltip [tooltip]="'Adicionar Distrito'" [position]="'top'" [html]="false" [delay]="100" class="btn-floating  btn-large waves-effect waves-light green"
    routerLink="/district/new">
    <i class="material-icons">add</i>
  </a>
</div>